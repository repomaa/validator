<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.34.0">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="athena-validator">


<link href="../../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../../js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="athena-validator">
  <title>Athena::Validator::Constraint - athena-validator master</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../../";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../../index.html">
          athena-validator
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="athena-validator/ASPEC" data-name="aspec">
      <a href="../../ASPEC.html">ASPEC</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Assert" data-name="assert">
      <a href="../../Assert.html">Assert</a>
      
    </li>
  
  <li class="parent open current" data-id="athena-validator/Athena" data-name="athena">
      <a href="../../Athena.html">Athena</a>
      
        <ul>
  
  <li class="parent " data-id="athena-validator/Athena/Spec" data-name="athena::spec">
      <a href="../../Athena/Spec.html">Spec</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Spec/Methods" data-name="athena::spec::methods">
      <a href="../../Athena/Spec/Methods.html">Methods</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Spec/TestCase" data-name="athena::spec::testcase">
      <a href="../../Athena/Spec/TestCase.html">TestCase</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Spec/TestCase/DataProvider" data-name="athena::spec::testcase::dataprovider">
      <a href="../../Athena/Spec/TestCase/DataProvider.html">DataProvider</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Spec/TestCase/Focus" data-name="athena::spec::testcase::focus">
      <a href="../../Athena/Spec/TestCase/Focus.html">Focus</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Spec/TestCase/Pending" data-name="athena::spec::testcase::pending">
      <a href="../../Athena/Spec/TestCase/Pending.html">Pending</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Spec/TestCase/Tags" data-name="athena::spec::testcase::tags">
      <a href="../../Athena/Spec/TestCase/Tags.html">Tags</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent open current" data-id="athena-validator/Athena/Validator" data-name="athena::validator">
      <a href="../../Athena/Validator.html">Validator</a>
      
        <ul>
  
  <li class=" current" data-id="athena-validator/Athena/Validator/Constraint" data-name="athena::validator::constraint">
      <a href="../../Athena/Validator/Constraint.html">Constraint</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints" data-name="athena::validator::constraints">
      <a href="../../Athena/Validator/Constraints.html">Constraints</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/AbstractComparison" data-name="athena::validator::constraints::abstractcomparison(valuetype)">
      <a href="../../Athena/Validator/Constraints/AbstractComparison.html">AbstractComparison</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/All" data-name="athena::validator::constraints::all">
      <a href="../../Athena/Validator/Constraints/All.html">All</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/All/Validator" data-name="athena::validator::constraints::all::validator">
      <a href="../../Athena/Validator/Constraints/All/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/AtLeastOneOf" data-name="athena::validator::constraints::atleastoneof">
      <a href="../../Athena/Validator/Constraints/AtLeastOneOf.html">AtLeastOneOf</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/AtLeastOneOf/Validator" data-name="athena::validator::constraints::atleastoneof::validator">
      <a href="../../Athena/Validator/Constraints/AtLeastOneOf/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Blank" data-name="athena::validator::constraints::blank">
      <a href="../../Athena/Validator/Constraints/Blank.html">Blank</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Blank/Validator" data-name="athena::validator::constraints::blank::validator">
      <a href="../../Athena/Validator/Constraints/Blank/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Callback" data-name="athena::validator::constraints::callback">
      <a href="../../Athena/Validator/Constraints/Callback.html">Callback</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Callback/CallbackProc" data-name="athena::validator::constraints::callback::callbackproc">
      <a href="../../Athena/Validator/Constraints/Callback/CallbackProc.html">CallbackProc</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Callback/Validator" data-name="athena::validator::constraints::callback::validator">
      <a href="../../Athena/Validator/Constraints/Callback/Validator.html">Validator</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Callback/Value" data-name="athena::validator::constraints::callback::value(t)">
      <a href="../../Athena/Validator/Constraints/Callback/Value.html">Value</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Choice" data-name="athena::validator::constraints::choice">
      <a href="../../Athena/Validator/Constraints/Choice.html">Choice</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Choice/Validator" data-name="athena::validator::constraints::choice::validator">
      <a href="../../Athena/Validator/Constraints/Choice/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/ComparisonValidator" data-name="athena::validator::constraints::comparisonvalidator">
      <a href="../../Athena/Validator/Constraints/ComparisonValidator.html">ComparisonValidator</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Composite" data-name="athena::validator::constraints::composite">
      <a href="../../Athena/Validator/Constraints/Composite.html">Composite</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Compound" data-name="athena::validator::constraints::compound">
      <a href="../../Athena/Validator/Constraints/Compound.html">Compound</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Compound/Validator" data-name="athena::validator::constraints::compound::validator">
      <a href="../../Athena/Validator/Constraints/Compound/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Email" data-name="athena::validator::constraints::email">
      <a href="../../Athena/Validator/Constraints/Email.html">Email</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Email/Mode" data-name="athena::validator::constraints::email::mode">
      <a href="../../Athena/Validator/Constraints/Email/Mode.html">Mode</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Email/Validator" data-name="athena::validator::constraints::email::validator">
      <a href="../../Athena/Validator/Constraints/Email/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/EqualTo" data-name="athena::validator::constraints::equalto(valuetype)">
      <a href="../../Athena/Validator/Constraints/EqualTo.html">EqualTo</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/EqualTo/Validator" data-name="athena::validator::constraints::equalto::validator">
      <a href="../../Athena/Validator/Constraints/EqualTo/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/GreaterThan" data-name="athena::validator::constraints::greaterthan(valuetype)">
      <a href="../../Athena/Validator/Constraints/GreaterThan.html">GreaterThan</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/GreaterThan/Validator" data-name="athena::validator::constraints::greaterthan::validator">
      <a href="../../Athena/Validator/Constraints/GreaterThan/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/GreaterThanOrEqual" data-name="athena::validator::constraints::greaterthanorequal(valuetype)">
      <a href="../../Athena/Validator/Constraints/GreaterThanOrEqual.html">GreaterThanOrEqual</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/GreaterThanOrEqual/Validator" data-name="athena::validator::constraints::greaterthanorequal::validator">
      <a href="../../Athena/Validator/Constraints/GreaterThanOrEqual/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/GroupSequence" data-name="athena::validator::constraints::groupsequence">
      <a href="../../Athena/Validator/Constraints/GroupSequence.html">GroupSequence</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/GroupSequence/Provider" data-name="athena::validator::constraints::groupsequence::provider">
      <a href="../../Athena/Validator/Constraints/GroupSequence/Provider.html">Provider</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/IP" data-name="athena::validator::constraints::ip">
      <a href="../../Athena/Validator/Constraints/IP.html">IP</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/IP/Validator" data-name="athena::validator::constraints::ip::validator">
      <a href="../../Athena/Validator/Constraints/IP/Validator.html">Validator</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/IP/Version" data-name="athena::validator::constraints::ip::version">
      <a href="../../Athena/Validator/Constraints/IP/Version.html">Version</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/ISBN" data-name="athena::validator::constraints::isbn">
      <a href="../../Athena/Validator/Constraints/ISBN.html">ISBN</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/ISBN/Type" data-name="athena::validator::constraints::isbn::type">
      <a href="../../Athena/Validator/Constraints/ISBN/Type.html">Type</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/ISBN/Validator" data-name="athena::validator::constraints::isbn::validator">
      <a href="../../Athena/Validator/Constraints/ISBN/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/IsFalse" data-name="athena::validator::constraints::isfalse">
      <a href="../../Athena/Validator/Constraints/IsFalse.html">IsFalse</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/IsFalse/Validator" data-name="athena::validator::constraints::isfalse::validator">
      <a href="../../Athena/Validator/Constraints/IsFalse/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/ISIN" data-name="athena::validator::constraints::isin">
      <a href="../../Athena/Validator/Constraints/ISIN.html">ISIN</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/ISIN/Validator" data-name="athena::validator::constraints::isin::validator">
      <a href="../../Athena/Validator/Constraints/ISIN/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/IsNil" data-name="athena::validator::constraints::isnil">
      <a href="../../Athena/Validator/Constraints/IsNil.html">IsNil</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/IsNil/Validator" data-name="athena::validator::constraints::isnil::validator">
      <a href="../../Athena/Validator/Constraints/IsNil/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/ISSN" data-name="athena::validator::constraints::issn">
      <a href="../../Athena/Validator/Constraints/ISSN.html">ISSN</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/ISSN/Validator" data-name="athena::validator::constraints::issn::validator">
      <a href="../../Athena/Validator/Constraints/ISSN/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/IsTrue" data-name="athena::validator::constraints::istrue">
      <a href="../../Athena/Validator/Constraints/IsTrue.html">IsTrue</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/IsTrue/Validator" data-name="athena::validator::constraints::istrue::validator">
      <a href="../../Athena/Validator/Constraints/IsTrue/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/LessThan" data-name="athena::validator::constraints::lessthan(valuetype)">
      <a href="../../Athena/Validator/Constraints/LessThan.html">LessThan</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/LessThan/Validator" data-name="athena::validator::constraints::lessthan::validator">
      <a href="../../Athena/Validator/Constraints/LessThan/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/LessThanOrEqual" data-name="athena::validator::constraints::lessthanorequal(valuetype)">
      <a href="../../Athena/Validator/Constraints/LessThanOrEqual.html">LessThanOrEqual</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/LessThanOrEqual/Validator" data-name="athena::validator::constraints::lessthanorequal::validator">
      <a href="../../Athena/Validator/Constraints/LessThanOrEqual/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Luhn" data-name="athena::validator::constraints::luhn">
      <a href="../../Athena/Validator/Constraints/Luhn.html">Luhn</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Luhn/Validator" data-name="athena::validator::constraints::luhn::validator">
      <a href="../../Athena/Validator/Constraints/Luhn/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Negative" data-name="athena::validator::constraints::negative">
      <a href="../../Athena/Validator/Constraints/Negative.html">Negative</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/NegativeOrZero" data-name="athena::validator::constraints::negativeorzero">
      <a href="../../Athena/Validator/Constraints/NegativeOrZero.html">NegativeOrZero</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/NotBlank" data-name="athena::validator::constraints::notblank">
      <a href="../../Athena/Validator/Constraints/NotBlank.html">NotBlank</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/NotBlank/Validator" data-name="athena::validator::constraints::notblank::validator">
      <a href="../../Athena/Validator/Constraints/NotBlank/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/NotEqualTo" data-name="athena::validator::constraints::notequalto(valuetype)">
      <a href="../../Athena/Validator/Constraints/NotEqualTo.html">NotEqualTo</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/NotEqualTo/Validator" data-name="athena::validator::constraints::notequalto::validator">
      <a href="../../Athena/Validator/Constraints/NotEqualTo/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/NotNil" data-name="athena::validator::constraints::notnil">
      <a href="../../Athena/Validator/Constraints/NotNil.html">NotNil</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/NotNil/Validator" data-name="athena::validator::constraints::notnil::validator">
      <a href="../../Athena/Validator/Constraints/NotNil/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Positive" data-name="athena::validator::constraints::positive">
      <a href="../../Athena/Validator/Constraints/Positive.html">Positive</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/PositiveOrZero" data-name="athena::validator::constraints::positiveorzero">
      <a href="../../Athena/Validator/Constraints/PositiveOrZero.html">PositiveOrZero</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Range" data-name="athena::validator::constraints::range">
      <a href="../../Athena/Validator/Constraints/Range.html">Range</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Range/Validator" data-name="athena::validator::constraints::range::validator">
      <a href="../../Athena/Validator/Constraints/Range/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Regex" data-name="athena::validator::constraints::regex">
      <a href="../../Athena/Validator/Constraints/Regex.html">Regex</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Regex/Validator" data-name="athena::validator::constraints::regex::validator">
      <a href="../../Athena/Validator/Constraints/Regex/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Sequentially" data-name="athena::validator::constraints::sequentially">
      <a href="../../Athena/Validator/Constraints/Sequentially.html">Sequentially</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Sequentially/Validator" data-name="athena::validator::constraints::sequentially::validator">
      <a href="../../Athena/Validator/Constraints/Sequentially/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Size" data-name="athena::validator::constraints::size">
      <a href="../../Athena/Validator/Constraints/Size.html">Size</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Size/Validator" data-name="athena::validator::constraints::size::validator">
      <a href="../../Athena/Validator/Constraints/Size/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Unique" data-name="athena::validator::constraints::unique">
      <a href="../../Athena/Validator/Constraints/Unique.html">Unique</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Unique/Validator" data-name="athena::validator::constraints::unique::validator">
      <a href="../../Athena/Validator/Constraints/Unique/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/URL" data-name="athena::validator::constraints::url">
      <a href="../../Athena/Validator/Constraints/URL.html">URL</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/URL/Validator" data-name="athena::validator::constraints::url::validator">
      <a href="../../Athena/Validator/Constraints/URL/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Constraints/Valid" data-name="athena::validator::constraints::valid">
      <a href="../../Athena/Validator/Constraints/Valid.html">Valid</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Constraints/Valid/Validator" data-name="athena::validator::constraints::valid::validator">
      <a href="../../Athena/Validator/Constraints/Valid/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/ConstraintValidator" data-name="athena::validator::constraintvalidator">
      <a href="../../Athena/Validator/ConstraintValidator.html">ConstraintValidator</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/ConstraintValidatorFactory" data-name="athena::validator::constraintvalidatorfactory">
      <a href="../../Athena/Validator/ConstraintValidatorFactory.html">ConstraintValidatorFactory</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/ConstraintValidatorFactoryInterface" data-name="athena::validator::constraintvalidatorfactoryinterface">
      <a href="../../Athena/Validator/ConstraintValidatorFactoryInterface.html">ConstraintValidatorFactoryInterface</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/ConstraintValidatorInterface" data-name="athena::validator::constraintvalidatorinterface">
      <a href="../../Athena/Validator/ConstraintValidatorInterface.html">ConstraintValidatorInterface</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Exceptions" data-name="athena::validator::exceptions">
      <a href="../../Athena/Validator/Exceptions.html">Exceptions</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Exceptions/UnexpectedValueError" data-name="athena::validator::exceptions::unexpectedvalueerror">
      <a href="../../Athena/Validator/Exceptions/UnexpectedValueError.html">UnexpectedValueError</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Exceptions/ValidatorError" data-name="athena::validator::exceptions::validatorerror">
      <a href="../../Athena/Validator/Exceptions/ValidatorError.html">ValidatorError</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/ExecutionContext" data-name="athena::validator::executioncontext(root)">
      <a href="../../Athena/Validator/ExecutionContext.html">ExecutionContext</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/ExecutionContextInterface" data-name="athena::validator::executioncontextinterface">
      <a href="../../Athena/Validator/ExecutionContextInterface.html">ExecutionContextInterface</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Metadata" data-name="athena::validator::metadata">
      <a href="../../Athena/Validator/Metadata.html">Metadata</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/CascadingStrategy" data-name="athena::validator::metadata::cascadingstrategy">
      <a href="../../Athena/Validator/Metadata/CascadingStrategy.html">CascadingStrategy</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/ClassMetadata" data-name="athena::validator::metadata::classmetadata(t)">
      <a href="../../Athena/Validator/Metadata/ClassMetadata.html">ClassMetadata</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/GenericMetadata" data-name="athena::validator::metadata::genericmetadata">
      <a href="../../Athena/Validator/Metadata/GenericMetadata.html">GenericMetadata</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/GetterMetadata" data-name="athena::validator::metadata::gettermetadata(entitytype, methodidx)">
      <a href="../../Athena/Validator/Metadata/GetterMetadata.html">GetterMetadata</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/MetadataFactory" data-name="athena::validator::metadata::metadatafactory">
      <a href="../../Athena/Validator/Metadata/MetadataFactory.html">MetadataFactory</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/MetadataFactoryInterface" data-name="athena::validator::metadata::metadatafactoryinterface">
      <a href="../../Athena/Validator/Metadata/MetadataFactoryInterface.html">MetadataFactoryInterface</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/MetadataInterface" data-name="athena::validator::metadata::metadatainterface">
      <a href="../../Athena/Validator/Metadata/MetadataInterface.html">MetadataInterface</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/PropertyMetadata" data-name="athena::validator::metadata::propertymetadata(entitytype, propertyidx)">
      <a href="../../Athena/Validator/Metadata/PropertyMetadata.html">PropertyMetadata</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Metadata/PropertyMetadataInterface" data-name="athena::validator::metadata::propertymetadatainterface">
      <a href="../../Athena/Validator/Metadata/PropertyMetadataInterface.html">PropertyMetadataInterface</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/PropertyPath" data-name="athena::validator::propertypath">
      <a href="../../Athena/Validator/PropertyPath.html">PropertyPath</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/ServiceConstraintValidator" data-name="athena::validator::serviceconstraintvalidator">
      <a href="../../Athena/Validator/ServiceConstraintValidator.html">ServiceConstraintValidator</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Spec" data-name="athena::validator::spec">
      <a href="../../Athena/Validator/Spec.html">Spec</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/ComparisonConstraintValidatorTestCase" data-name="athena::validator::spec::comparisonconstraintvalidatortestcase">
      <a href="../../Athena/Validator/Spec/ComparisonConstraintValidatorTestCase.html">ComparisonConstraintValidatorTestCase</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Spec/ConstraintValidatorTestCase" data-name="athena::validator::spec::constraintvalidatortestcase">
      <a href="../../Athena/Validator/Spec/ConstraintValidatorTestCase.html">ConstraintValidatorTestCase</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/ConstraintValidatorTestCase/Assertion" data-name="athena::validator::spec::constraintvalidatortestcase::assertion">
      <a href="../../Athena/Validator/Spec/ConstraintValidatorTestCase/Assertion.html">Assertion</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/EntityGroupSequenceProvider" data-name="athena::validator::spec::entitygroupsequenceprovider">
      <a href="../../Athena/Validator/Spec/EntityGroupSequenceProvider.html">EntityGroupSequenceProvider</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/EntitySequenceProvider" data-name="athena::validator::spec::entitysequenceprovider">
      <a href="../../Athena/Validator/Spec/EntitySequenceProvider.html">EntitySequenceProvider</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Spec/FailingConstraint" data-name="athena::validator::spec::failingconstraint">
      <a href="../../Athena/Validator/Spec/FailingConstraint.html">FailingConstraint</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/FailingConstraint/Validator" data-name="athena::validator::spec::failingconstraint::validator">
      <a href="../../Athena/Validator/Spec/FailingConstraint/Validator.html">Validator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/MockContextualValidator" data-name="athena::validator::spec::mockcontextualvalidator">
      <a href="../../Athena/Validator/Spec/MockContextualValidator.html">MockContextualValidator</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/MockMetadataFactory" data-name="athena::validator::spec::mockmetadatafactory(t1, t2, t3, t4, t5)">
      <a href="../../Athena/Validator/Spec/MockMetadataFactory.html">MockMetadataFactory</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Spec/MockValidator" data-name="athena::validator::spec::mockvalidator">
      <a href="../../Athena/Validator/Spec/MockValidator.html">MockValidator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Validatable" data-name="athena::validator::validatable">
      <a href="../../Athena/Validator/Validatable.html">Validatable</a>
      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Validator" data-name="athena::validator::validator">
      <a href="../../Athena/Validator/Validator.html">Validator</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Validator/ContextualValidatorInterface" data-name="athena::validator::validator::contextualvalidatorinterface">
      <a href="../../Athena/Validator/Validator/ContextualValidatorInterface.html">ContextualValidatorInterface</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Validator/RecursiveContextualValidator" data-name="athena::validator::validator::recursivecontextualvalidator">
      <a href="../../Athena/Validator/Validator/RecursiveContextualValidator.html">RecursiveContextualValidator</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Validator/RecursiveValidator" data-name="athena::validator::validator::recursivevalidator">
      <a href="../../Athena/Validator/Validator/RecursiveValidator.html">RecursiveValidator</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Validator/ValidatorInterface" data-name="athena::validator::validator::validatorinterface">
      <a href="../../Athena/Validator/Validator/ValidatorInterface.html">ValidatorInterface</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena-validator/Athena/Validator/Violation" data-name="athena::validator::violation">
      <a href="../../Athena/Validator/Violation.html">Violation</a>
      
        <ul>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Violation/ConstraintViolation" data-name="athena::validator::violation::constraintviolation(root)">
      <a href="../../Athena/Validator/Violation/ConstraintViolation.html">ConstraintViolation</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Violation/ConstraintViolationBuilder" data-name="athena::validator::violation::constraintviolationbuilder(root)">
      <a href="../../Athena/Validator/Violation/ConstraintViolationBuilder.html">ConstraintViolationBuilder</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Violation/ConstraintViolationBuilderInterface" data-name="athena::validator::violation::constraintviolationbuilderinterface">
      <a href="../../Athena/Validator/Violation/ConstraintViolationBuilderInterface.html">ConstraintViolationBuilderInterface</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Violation/ConstraintViolationInterface" data-name="athena::validator::violation::constraintviolationinterface">
      <a href="../../Athena/Validator/Violation/ConstraintViolationInterface.html">ConstraintViolationInterface</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Violation/ConstraintViolationList" data-name="athena::validator::violation::constraintviolationlist">
      <a href="../../Athena/Validator/Violation/ConstraintViolationList.html">ConstraintViolationList</a>
      
    </li>
  
  <li class=" " data-id="athena-validator/Athena/Validator/Violation/ConstraintViolationListInterface" data-name="athena::validator::violation::constraintviolationlistinterface">
      <a href="../../Athena/Validator/Violation/ConstraintViolationListInterface.html">ConstraintViolationListInterface</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena-validator/AVD" data-name="avd">
      <a href="../../AVD.html">AVD</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">abstract class</span> Athena::Validator::Constraint

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../../Athena/Validator/Constraint.html">Athena::Validator::Constraint</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p><code><a href="../../Athena/Validator.html">Athena::Validator</a></code> validates values/objects against a set of constraints, i.e. rules.
Each constraint makes an assertive statement that some condition is true.
Given a value, a constraint will tell you if that value adheres to the rules of the constraint.
An example of this could be asserting a value is not blank, or greater than or equal to another value.</p>

<p>It's important to note a constraint does not implement the validation logic itself.
Instead, this is handled via an <code><a href="../../Athena/Validator/ConstraintValidator.html">AVD::ConstraintValidator</a></code> as defined via <code><a href="../../Athena/Validator/Constraint.html#validated_by:AVD::ConstraintValidator.class-instance-method">#validated_by</a></code>.
Having this abstraction allows for better reusability and testability.</p>

<p><code><a href="../../Athena/Validator.html">Athena::Validator</a></code> comes with a set of common constraints built in.
See the individual types within <code><a href="../../Athena/Validator/Constraints.html">AVD::Constraints</a></code> for more information.</p>

<h2><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h2>

<p>A constraint can be instantiated and passed to a validator directly:</p>

<pre><code><span class="c"># An array of constraints can also be passed.</span>
<span class="t">AVD</span>.validator.validate <span class="s">&quot;&quot;</span>, <span class="t">AVD</span><span class="t">::</span><span class="t">Constraints</span><span class="t">::</span><span class="t">NotBlank</span>.<span class="k">new</span></code></pre>

<p>Constraint annotation(s) can also be applied to instance variables to assert the value of that property adheres to the constraint.</p>

<pre><code><span class="k">class</span> <span class="t">Example</span>
  <span class="k">include</span> <span class="t">AVD</span><span class="t">::</span><span class="t">Validatable</span>

  <span class="k">def</span> <span class="m">initialize</span>(@name : <span class="t">String</span>); <span class="k">end</span>

  <span class="c"># More than one constraint can be applied to a property.</span>
  @[<span class="t">Assert</span><span class="t">::</span><span class="t">NotBlank</span>]
  property name : <span class="t">String</span>
<span class="k">end</span>

<span class="c"># Constraints are extracted from the annotations.</span>
<span class="c"># An array can also be passed to validate against that list instead.</span>
<span class="t">AVD</span>.validator.validate <span class="t">Example</span>.<span class="k">new</span>(<span class="s">&quot;Jim&quot;</span>)</code></pre>

<p>Constraints can also be added manually via code by defining an <code>self.load_metadata(metadata : AVD::Metadata::ClassMetadata) : Nil</code>
method and adding the constraints directly to the <code><a href="../../Athena/Validator/Metadata/ClassMetadata.html">AVD::Metadata::ClassMetadata</a></code> instance.</p>

<pre><code><span class="c"># This class method is invoked when building the metadata associated with a type,</span>
<span class="c"># and can be used to manually wire up the constraints.</span>
<span class="k">def</span> <span class="m">self</span>.load_metadata(metadata : <span class="t">AVD</span><span class="t">::</span><span class="t">Metadata</span><span class="t">::</span><span class="t">ClassMetadata</span>) : <span class="t">Nil</span>
  metadata.add_property_constraint <span class="s">&quot;name&quot;</span>, <span class="t">AVD</span><span class="t">::</span><span class="t">Constraints</span><span class="t">::</span><span class="t">NotBlank</span>.<span class="k">new</span>
<span class="k">end</span></code></pre>

<p>The metadata for each type is lazily loaded when an instance of that type is validated, and is only built once.</p>

<h2><a id="arguments" class="anchor" href="#arguments">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Arguments</h2>

<p>While most constraints can be instantiated with an argless constructor,they do have a set of optional arguments.</p>

<ul><li>The <code><a href="../../Athena/Validator/Constraint.html#message:String-instance-method">#message</a></code> argument represents the message that should be used if the value is found to not be valid.
The message can also include placeholders, in the form of <code>{{ key }}</code>, that will be replaced when the message is rendered.
Most commonly this includes the invalid value itself, but some constraints have additional placeholders.</li><li>The <code><a href="../../Athena/Validator/Constraint.html#payload:Hash(String,String)?-instance-method">#payload</a></code> argument can be used to attach any domain specific data to the constraint; such as attaching a severity with each constraint
to have more serious violations be handled differently.  See the <a href="./Constraint.html#payload" target="_blank">Payload</a> section.</li><li>The <code><a href="../../Athena/Validator/Constraint.html#groups:Array(String)-instance-method">#groups</a></code> argument can be used to run a subset of the defined constraints.  More on this in the <a href="./Constraint.html#validation-groups" target="_blank">Validation Groups</a> section.</li></ul>

<p>For example:</p>

<pre><code>validator <span class="o">=</span> <span class="t">AVD</span>.validator

<span class="c"># Instantiate a constraint with a custom message, using a placeholder.</span>
violations <span class="o">=</span> validator.validate <span class="n">-4</span>, <span class="t">AVD</span><span class="t">::</span><span class="t">Constraints</span><span class="t">::</span><span class="t">PositiveOrZero</span>.<span class="k">new</span> message: <span class="s">&quot;{{ value }} is not a valid age.  A user cannot have a negative age.&quot;</span>

puts violations <span class="c"># =&gt;</span>
<span class="c"># -4:</span>
<span class="c">#   -4 is not a valid age.  A user cannot have a negative age. (code: e09e52d0-b549-4ba1-8b4e-420aad76f0de)</span></code></pre>

<p>Customizing the message can be a good way for those consuming the errors to determine <em>WHY</em> a given value is not valid.</p>

<h3><a id="default-argument" class="anchor" href="#default-argument">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Default Argument</h3>

<p>The first argument of the constructor is known as the default argument.
This argument is special when using the annotation based approach in that it can be supplied as a positional argument within the annotation.</p>

<p>For example the default argument for <code><a href="../../Athena/Validator/Constraints/GreaterThan.html">AVD::Constraints::GreaterThan</a></code> is the value that the value being validated should be compared against.</p>

<p>Thus:</p>

<pre><code>@[<span class="t">Assert</span><span class="t">::</span><span class="t">GreaterThan</span>(<span class="n">0</span>)]
property age : <span class="t">Int32</span></code></pre>

<p>Is equivalent to:</p>

<pre><code>@[<span class="t">Assert</span><span class="t">::</span><span class="t">GreaterThan</span>(value: <span class="n">0</span>)]
property age : <span class="t">Int32</span></code></pre>

<p><span class="flag purple">NOTE</span>  Only the first argument can be supplied positionally, all other arguments must be provided as named arguments within the annotation.</p>

<h3><a id="message-plurality" class="anchor" href="#message-plurality">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Message Plurality</h3>

<p><code><a href="../../Athena/Validator.html">Athena::Validator</a></code> has very basic support for pluralizing constraint <code><a href="../../Athena/Validator/Constraint.html#message:String-instance-method">#message</a></code>s via <code><a href="../../Athena/Validator/Violation/ConstraintViolationInterface.html#plural:Int32?-instance-method">AVD::Violation::ConstraintViolationInterface#plural</a></code>.</p>

<p>For example the <code><a href="../../Athena/Validator/Constraint.html#message:String-instance-method">#message</a></code> could have different versions based on the plurality of the violation.
Currently this only supports two contexts: singular (1/nil) and plural (2+).</p>

<p>Multiple messages, separated by a <code>|</code>, can be included as part of an <code><a href="../../Athena/Validator/Constraint.html">AVD::Constraint</a></code> message.
For example from <code><a href="../../Athena/Validator/Constraints/Size.html">AVD::Constraints::Size</a></code>:</p>

<p><code>min_message : String = "This value is too short. It should have {{ limit }} {{ type }} or more.|This value is too short. It should have {{ limit }} {{ type }}s or more."</code></p>

<p>If violations' <code>#plural</code> method returns <code>1</code> (or <code>nil</code>) the first message will be used.  If <code>#plural</code> is <code>2</code> or more, the latter message will be used.</p>

<p><span class="flag orange">TODO</span>  Support more robust translations; like language or multiple pluralities.</p>

<h3><a id="payload" class="anchor" href="#payload">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Payload</h3>

<p>The <code><a href="../../Athena/Validator/Constraint.html#payload:Hash(String,String)?-instance-method">#payload</a></code> argument defined on every <code><a href="../../Athena/Validator/Constraint.html">AVD::Constraint</a></code> type can be used to store custom domain specific information with a constraint.
This data can later be retrieved off of an <code><a href="../../Athena/Validator/Violation/ConstraintViolationInterface.html">AVD::Violation::ConstraintViolationInterface</a></code>.
An example use case for this could be mapping a "severity" to a CSS class based on how important each specific constraint is.</p>

<pre><code><span class="k">class</span> <span class="t">User</span>
  <span class="k">include</span> <span class="t">AVD</span><span class="t">::</span><span class="t">Validatable</span>

  <span class="k">def</span> <span class="m">initialize</span>(@email : <span class="t">String</span>, @password : <span class="t">String</span>); <span class="k">end</span>

  @[<span class="t">Assert</span><span class="t">::</span><span class="t">NotBlank</span>(payload: {<span class="s">&quot;severity&quot;</span> => <span class="s">&quot;error&quot;</span>})]
  getter email : <span class="t">String</span>

  @[<span class="t">Assert</span><span class="t">::</span><span class="t">NotBlank</span>(payload: {<span class="s">&quot;severity&quot;</span> => <span class="s">&quot;warning&quot;</span>})]
  getter password : <span class="t">String</span>
<span class="k">end</span>

violations <span class="o">=</span> <span class="t">AVD</span>.validator.validate <span class="t">User</span>.<span class="k">new</span> <span class="s">&quot;&quot;</span>, <span class="s">&quot;&quot;</span>

<span class="c"># Use this when rendering HTML, or JSON to allow dynamically customizing the response object.</span>
violations[<span class="n">0</span>].constraint.payload <span class="c"># =&gt; {&quot;severity&quot; =&gt; &quot;error&quot;}</span>
violations[<span class="n">1</span>].constraint.payload <span class="c"># =&gt; {&quot;severity&quot; =&gt; &quot;warning&quot;}</span></code></pre>

<h2><a id="validation-groups" class="anchor" href="#validation-groups">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Validation Groups</h2>

<p>The <code><a href="../../Athena/Validator/Constraint.html#groups:Array(String)-instance-method">#groups</a></code> argument defined on every <code><a href="../../Athena/Validator/Constraint.html">AVD::Constraint</a></code> type can be used to run a subset of validations.</p>

<p>For example, say we only want to validate certain properties when the user is first created:</p>

<pre><code><span class="k">class</span> <span class="t">User</span>
  <span class="k">include</span> <span class="t">AVD</span><span class="t">::</span><span class="t">Validatable</span>

  <span class="k">def</span> <span class="m">initialize</span>(@email : <span class="t">String</span>, @password : <span class="t">String</span>, @city : <span class="t">String</span>); <span class="k">end</span>

  @[<span class="t">Assert</span><span class="t">::</span><span class="t">Email</span>(groups: <span class="s">&quot;create&quot;</span>)]
  getter email : <span class="t">String</span>

  @[<span class="t">Assert</span><span class="t">::</span><span class="t">NotBlank</span>(groups: <span class="s">&quot;create&quot;</span>)]
  @[<span class="t">Assert</span><span class="t">::</span><span class="t">Size</span>(<span class="n">7</span>.., groups: <span class="s">&quot;create&quot;</span>)]
  getter password : <span class="t">String</span>

  @[<span class="t">Assert</span><span class="t">::</span><span class="t">Size</span>(<span class="n">2</span>..)]
  getter city : <span class="t">String</span>
<span class="k">end</span>

user <span class="o">=</span> <span class="t">User</span>.<span class="k">new</span> <span class="s">&quot;george@dietrich.app&quot;</span>, <span class="s">&quot;monkey123&quot;</span>, <span class="s">&quot;&quot;</span>

<span class="c"># Validate the user object, but only for those in the &quot;create&quot; group,</span>
<span class="c"># if no groups are supplied, then all constraints in the &quot;default&quot; group will be used.</span>
violations <span class="o">=</span> <span class="t">AVD</span>.validator.validate user, groups: <span class="s">&quot;create&quot;</span>

<span class="c"># There are no violations since the city&#39;s size is not validated since it&#39;s not in the &quot;create&quot; group.</span>
violations.empty? <span class="c"># =&gt; true</span></code></pre>

<p>Using this configuration, there are three groups at play within the <code>User</code> class:</p>

<ol><li><code>default</code> - Contains constraints in the current type, and subtypes, that belong to no other group.  I.e. <code>city</code>.</li><li><code>User</code> - In this example, equivalent to all constraints in the <code>default</code> group.  See <code><a href="../../Athena/Validator/Constraints/GroupSequence.html">AVD::Constraints::GroupSequence</a></code>, and the note below.</li><li><code>create</code> - A custom group that only contains the constraints explicitly associated with it.  I.e. <code>email</code>, and <code>password</code>.</li></ol>

<p><span class="flag purple">NOTE</span>  When validating <em>just</em> the <code>User</code> object, the <code>default</code> group is equivalent to the <code>User</code> group.
However, if the <code>User</code> object has other embedded types using the <code><a href="../../Athena/Validator/Constraints/Valid.html">AVD::Constraints::Valid</a></code> constraint, then validating the <code>User</code> object with the <code>User</code>
group would only validate constraints that are explicitly in the <code>User</code> group within the embedded types.</p>

<p>By default, all constraints are validated in a single "batch".  I.e. all constraints within the provided group(s) are validated, without regard
to if the previous/next constraint is/was (in)valid.  However, an <code><a href="../../Athena/Validator/Constraints/GroupSequence.html">AVD::Constraints::GroupSequence</a></code> can be used to validate batches of constraints in steps.
I.e. validate the first "batch" of constraints, and only advance to the next batch if all constraints in that step are valid.</p>

<p><span class="flag purple">NOTE</span>  The payload is not used with the framework itself.</p>

<h2><a id="custom-constraints" class="anchor" href="#custom-constraints">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Custom Constraints</h2>

<p>If the built in <code><a href="../../Athena/Validator/Constraints.html">AVD::Constraints</a></code> are not sufficient to handle validating a given value/object; custom ones can be defined.
Let's make a new constraint that asserts a string contains only alphanumeric characters.</p>

<p>This is accomplished by first defining a new class within the <code><a href="../../Athena/Validator/Constraints.html">AVD::Constraints</a></code> namespace that inherits from <code><a href="../../Athena/Validator/Constraint.html">AVD::Constraint</a></code>.
Then define a <code><a href="../../Athena/Validator/Validator.html">Validator</a></code> struct within our constraint that inherits from <code><a href="../../Athena/Validator/ConstraintValidator.html">AVD::ConstraintValidator</a></code> that actually implements the validation logic.</p>

<pre><code><span class="k">class</span> <span class="t">AVD</span><span class="t">::</span><span class="t">Constraints</span><span class="t">::</span><span class="t">AlphaNumeric</span> <span class="o">&lt;</span> <span class="t">AVD</span><span class="t">::</span><span class="t">Constraint</span>
  <span class="c"># (Optional) A unique error code can also be defined to provide a machine readable identifier for a specific error.</span>
  <span class="t">NOT_ALPHANUMERIC_ERROR</span> <span class="o">=</span> <span class="s">&quot;1a83a8bd-ff79-4d5c-96e7-86d0b25b8a09&quot;</span>

  <span class="c"># (Optional) Allows using the `.error_message(code : String) : String` method with this constraint.</span>
  @@error_names <span class="o">=</span> {
    <span class="t">NOT_ALPHANUMERIC_ERROR</span> => <span class="s">&quot;NOT_ALPHANUMERIC_ERROR&quot;</span>,
  }

  <span class="c"># Define an initializer with our default message, and any additional arguments specific to this constraint.</span>
  <span class="k">def</span> <span class="m">initialize</span>(
    message : <span class="t">String</span> <span class="o">=</span> <span class="s">&quot;This value should contain only alphanumeric characters.&quot;</span>,
    groups : <span class="t">Array</span>(<span class="t">String</span>) <span class="o">|</span> <span class="t">String</span> <span class="o">|</span> <span class="t">Nil</span> <span class="o">=</span> <span class="n">nil</span>,
    payload : <span class="t">Hash</span>(<span class="t">String</span>, <span class="t">String</span>)? <span class="o">=</span> <span class="n">nil</span>
  )
    <span class="k">super</span> message, groups, payload
  <span class="k">end</span>

  <span class="c"># Define the validator within our constraint that&#39;ll contain our validation logic.</span>
  <span class="k">struct</span> <span class="t">Validator</span> <span class="o">&lt;</span> <span class="t">AVD</span><span class="t">::</span><span class="t">ConstraintValidator</span>
    <span class="c"># Define our validate method that accepts the value to be validated, and the constraint.</span>
    <span class="c">#</span>
    <span class="c"># Overloads can be used to filter values of specific types.</span>
    <span class="k">def</span> <span class="m">validate</span>(value : UNDERSCORE, constraint : <span class="t">AVD</span><span class="t">::</span><span class="t">Constraints</span><span class="t">::</span><span class="t">AlphaNumeric</span>) : <span class="t">Nil</span>
      <span class="c"># Custom constraints should ignore nil and empty values to allow</span>
      <span class="c"># other constraints (NotBlank, NotNil, etc.) take care of that</span>
      <span class="k">return</span> <span class="k">if</span> value.<span class="k">nil?</span> || value <span class="o">==</span> <span class="s">&quot;&quot;</span>

      <span class="c"># We&#39;ll cast the value to a string,</span>
      <span class="c"># alternatively we could just ignore non `String?` values.</span>
      value <span class="o">=</span> value.to_s

      <span class="c"># If all the characters of this string are alphanumeric, then it is valid</span>
      <span class="k">return</span> <span class="k">if</span> value.each_char.all? <span class="o">&amp;</span>.alphanumeric?

      <span class="c"># Otherwise, it is invalid and we need to add a violation,</span>
      <span class="c"># see `AVD::ExecutionContextInterface` for additional information.</span>
      <span class="k">self</span>.context.add_violation constraint.message, <span class="t">NOT_ALPHANUMERIC_ERROR</span>, value
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

puts <span class="t">AVD</span>.validator.validate <span class="s">&quot;$&quot;</span>, <span class="t">AVD</span><span class="t">::</span><span class="t">Constraints</span><span class="t">::</span><span class="t">AlphaNumeric</span>.<span class="k">new</span> <span class="c"># =&gt;</span>
<span class="c"># $:</span>
<span class="c">#   This value should contain only alphanumeric characters. (code: 1a83a8bd-ff79-4d5c-96e7-86d0b25b8a09)</span></code></pre>

<p><span class="flag purple">NOTE</span>  The constraint <em>MUST</em> be defined within the <code><a href="../../Athena/Validator/Constraints.html">AVD::Constraints</a></code> namespace for implementation reasons.  This may change in the future.</p>

<p>We are now able to use this constraint as we would one of the built in ones;
either by manually instantiating it, or applying an <code>@[Assert::AlphaNumeric]</code> annotation to a property.</p>

<p>See <code><a href="../../Athena/Validator/ConstraintValidatorInterface.html">AVD::ConstraintValidatorInterface</a></code> for more information on custom validators.</p>

<p><span class="flag purple">NOTE</span>   The <code><a href="../../Athena/Validator/Constraints/Compound.html">AVD::Constraints::Compound</a></code> constraint can be used to create a constraint that consists of one or more other constraints.</p>









  <h2>
    <a id="direct-known-subclasses" class="anchor" href="#direct-known-subclasses">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Direct Known Subclasses
  </h2>
  <ul class="other-types-list">
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Blank.html">Athena::Validator::Constraints::Blank</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Callback.html">Athena::Validator::Constraints::Callback</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Choice.html">Athena::Validator::Constraints::Choice</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Composite.html">Athena::Validator::Constraints::Composite</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Email.html">Athena::Validator::Constraints::Email</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/EqualTo.html">Athena::Validator::Constraints::EqualTo(ValueType)</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/GreaterThan.html">Athena::Validator::Constraints::GreaterThan(ValueType)</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/GreaterThanOrEqual.html">Athena::Validator::Constraints::GreaterThanOrEqual(ValueType)</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/IP.html">Athena::Validator::Constraints::IP</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/ISBN.html">Athena::Validator::Constraints::ISBN</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/IsFalse.html">Athena::Validator::Constraints::IsFalse</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/ISIN.html">Athena::Validator::Constraints::ISIN</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/IsNil.html">Athena::Validator::Constraints::IsNil</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/ISSN.html">Athena::Validator::Constraints::ISSN</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/IsTrue.html">Athena::Validator::Constraints::IsTrue</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/LessThan.html">Athena::Validator::Constraints::LessThan(ValueType)</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/LessThanOrEqual.html">Athena::Validator::Constraints::LessThanOrEqual(ValueType)</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Luhn.html">Athena::Validator::Constraints::Luhn</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/NotBlank.html">Athena::Validator::Constraints::NotBlank</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/NotEqualTo.html">Athena::Validator::Constraints::NotEqualTo(ValueType)</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/NotNil.html">Athena::Validator::Constraints::NotNil</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Range.html">Athena::Validator::Constraints::Range</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Regex.html">Athena::Validator::Constraints::Regex</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Size.html">Athena::Validator::Constraints::Size</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Unique.html">Athena::Validator::Constraints::Unique</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/URL.html">Athena::Validator::Constraints::URL</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Constraints/Valid.html">Athena::Validator::Constraints::Valid</a></li>
    
      <li class="other-type"><a href="../../Athena/Validator/Spec/FailingConstraint.html">Athena::Validator::Spec::FailingConstraint</a></li>
    
  </ul>






  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L255" target="_blank">
        constraint.cr
      </a>
    
    <br/>
  



  
    <h2>
      <a id="constant-summary" class="anchor" href="#constant-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
      Constant Summary
    </h2>
  
  <dl>
    
      <dt class="entry-const" id="DEFAULT_GROUP">
        <strong>DEFAULT_GROUP</strong> = <code><span class="s">&quot;default&quot;</span></code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>The group that <code>self</code> is a part of if no other group(s) are explicitly defined.</p>
      </dd>
      
    
  </dl>



  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(message:String,groups:Array(String)%7CString%7CNil=nil,payload:Hash(String,String)?=nil)-class-method" class="signature"><strong>.new</strong>(message : String, groups : Array(String) | String | Nil = <span class="n">nil</span>, payload : Hash(String, String)? = <span class="n">nil</span>)</a>
        
      </li>
    
  </ul>



  <h2>
    <a id="class-method-summary" class="anchor" href="#class-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#error_name(error_code:String):String-class-method" class="signature"><strong>.error_name</strong>(error_code : String) : String</a>
        
          <div class="summary"><p>Returns the name of the provided <em>error_code</em>.</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#add_implicit_group(group:String):Nil-instance-method" class="signature"><strong>#add_implicit_group</strong>(group : String) : Nil</a>
        
          <div class="summary"><p>Adds the provided <em>group</em> to <code><a href="../../Athena/Validator/Constraint.html#groups:Array(String)-instance-method">#groups</a></code> if <code>self</code> is in the <code><a href="../../Athena/Validator/Constraint.html#DEFAULT_GROUP">AVD::Constraint::DEFAULT_GROUP</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#groups:Array(String)-instance-method" class="signature"><strong>#groups</strong> : Array(String)</a>
        
          <div class="summary"><p>The validation groups <code>self</code> is a part of.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#groups=(groups:Array(String))-instance-method" class="signature"><strong>#groups=</strong>(groups : Array(String))</a>
        
          <div class="summary"><p>The validation groups <code>self</code> is a part of.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#message:String-instance-method" class="signature"><strong>#message</strong> : String</a>
        
          <div class="summary"><p>Returns the message that should be rendered if <code>self</code> is found to be invalid.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#payload:Hash(String,String)?-instance-method" class="signature"><strong>#payload</strong> : Hash(String, String)?</a>
        
          <div class="summary"><p>Returns any domain specific data associated with <code>self</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#validated_by:AVD::ConstraintValidator.class-instance-method" class="signature"><strong>#validated_by</strong> : <span class="t">AVD</span><span class="t">::</span><span class="t">ConstraintValidator</span>.<span class="k">class</span></a>
        
          <div class="summary"><p>Returns the <code>AVD::ConstraintValidator.class</code> that should handle validating <code>self</code>.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(message:String,groups:Array(String)|String|Nil=nil,payload:Hash(String,String)?=nil)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(message : String, groups : Array(String) | String | Nil = <span class="n">nil</span>, payload : Hash(String, String)? = <span class="n">nil</span>)

        <a class="method-permalink" href="#new(message:String,groups:Array(String)%7CString%7CNil=nil,payload:Hash(String,String)?=nil)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L278" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="class-method-detail" class="anchor" href="#class-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Detail
  </h2>
  
    <div class="entry-detail" id="error_name(error_code:String):String-class-method">
      <div class="signature">
        
        def self.<strong>error_name</strong>(error_code : String) : String

        <a class="method-permalink" href="#error_name(error_code:String):String-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the name of the provided <em>error_code</em>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L262" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="add_implicit_group(group:String):Nil-instance-method">
      <div class="signature">
        
        def <strong>add_implicit_group</strong>(group : String) : Nil

        <a class="method-permalink" href="#add_implicit_group(group:String):Nil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Adds the provided <em>group</em> to <code><a href="../../Athena/Validator/Constraint.html#groups:Array(String)-instance-method">#groups</a></code> if <code>self</code> is in the <code><a href="../../Athena/Validator/Constraint.html#DEFAULT_GROUP">AVD::Constraint::DEFAULT_GROUP</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L287" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="groups:Array(String)-instance-method">
      <div class="signature">
        
        def <strong>groups</strong> : Array(String)

        <a class="method-permalink" href="#groups:Array(String)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>The validation groups <code>self</code> is a part of.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L273" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="groups=(groups:Array(String))-instance-method">
      <div class="signature">
        
        def <strong>groups=</strong>(groups : Array(String))

        <a class="method-permalink" href="#groups=(groups:Array(String))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>The validation groups <code>self</code> is a part of.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L273" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="message:String-instance-method">
      <div class="signature">
        
        def <strong>message</strong> : String

        <a class="method-permalink" href="#message:String-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the message that should be rendered if <code>self</code> is found to be invalid.</p>

<p><span class="flag purple">NOTE</span>  Some subtypes do not use this and instead define multiple message
properties in order to support more specific error messages.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L270" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="payload:Hash(String,String)?-instance-method">
      <div class="signature">
        
        def <strong>payload</strong> : Hash(String, String)?

        <a class="method-permalink" href="#payload:Hash(String,String)?-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns any domain specific data associated with <code>self</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L276" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="validated_by:AVD::ConstraintValidator.class-instance-method">
      <div class="signature">
        abstract 
        def <strong>validated_by</strong> : <span class="t">AVD</span><span class="t">::</span><span class="t">ConstraintValidator</span>.<span class="k">class</span>

        <a class="method-permalink" href="#validated_by:AVD::ConstraintValidator.class-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the <code>AVD::ConstraintValidator.class</code> that should handle validating <code>self</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/athena-framework/validator/blob/f63e700e77ee3e7f198c2d34197b4e1f29fd69e4/src/constraint.cr#L294" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
